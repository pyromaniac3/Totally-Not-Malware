// Starter code provided by https://github.com/tanhauhau/browser-pet/tree/master
const position = {
    x: 0,
    y: 0,
};

const foodPosition = {
  x: 0,
  y: 0,
};

function updatePosition(pet, x, y) {
    pet.style.left = (position.x = x) + 'px';
    pet.style.top = (position.y = y) + 'px';
}

function updateFoodPosition(food, x, y) {
  food.style.left = (foodPosition.x = x) + 'px';
  food.style.top = (foodPosition.y = y) + 'px';
}

function onload() {
    const pet = document.createElement('div');
    updatePosition(pet, 150, 150);
    pet.classList.add('meowware-pet');
    document.body.appendChild(pet);

    console.log("Loaded tamagotchi.js");
    // Creating a second div to be able to Ctrl+F in DOM.
    const identifier_div = document.createElement('div');
    identifier_div.classList.add('meowware-pet');
    pet.appendChild(identifier_div);
    console.log("Attached identifier to be able to more easily attach.")

    const feedButton = document.getElementById('feedMe');
    const playButton = document.getElementById('playMe');
    const fakeQuitButton = document.getElementById('fakeQuit');

    // Remove existing event listeners if any
    feedButton.removeEventListener('click', feedButtonClick);
    playButton.removeEventListener('click', playButtonClick);
    fakeQuitButton.removeEventListener('click', fakeQuitButtonClick);

     // Add event listeners
    feedButton.addEventListener('click', feedButtonClick);
    playButton.addEventListener('click', playButtonClick);
    fakeQuitButton.addEventListener('click', fakeQuitButtonClick);

    function feedButtonClick() {
      console.log('Feed Button clicked!');
      //foodPosition.x += 100;
    }

  function playButtonClick() {
      console.log('Play Button clicked!');
  }

  function fakeQuitButtonClick() {
      console.log('Fake Quit Button clicked!');
      window.close();
  }
    /*
    //Spawns food
    const food = document.createElement('div');
    updateFoodPosition(food, 300, 300);
    food.classList.add('meowware-pet');
    document.body.appendChild(food);

    pet.appendChild(identifier_div);
    */
  
}
window.addEventListener('load', onload);