// Starter code provided by https://github.com/tanhauhau/browser-pet/tree/master
const position = {
    x: 0,
    y: 0,
};

function updatePosition(pet, x, y) {
    pet.style.left = (position.x = x) + 'px';
    pet.style.top = (position.y = y) + 'px';
}

function onload() {
    const pet = document.createElement('div');
    updatePosition(pet, 150, 150);
    pet.classList.add('meowware-pet');
    document.body.appendChild(pet);
    console.log("Loaded tamagotchi.js");
    // Creating a second div to be able to Ctrl+F in DOM.
    const identifier_div = document.createElement('div');
    identifier_div.classList.add('meowware-pet');
    pet.appendChild(identifier_div);
    console.log("Attached identifier to be able to more easily attach.")


    //temp = document.getElementsByClassName("home page-template page-template-front-page page-template-front-page-php page page-id-2");
    //temp = document.getElementById("header-top-bar");
    //console.log("ID: " + temp.id);
    //temp.remove();

    // go through each element with text
    //temp;
    feedMeText();
    //  make copycat element with new text
    //  replace original with copycat
}
window.addEventListener('load', onload);

function textNodesUnder(el) {
    const children = [] // Type: Node[]
    const walker = document.createTreeWalker(el, NodeFilter.SHOW_TEXT)
    while(walker.nextNode()) {
        console.log("1");
        children.push(walker.currentNode)
        //walker.textContent = 'FEED ME';
    }
    return children
}

// function that changes all the text on screen to "FEED ME"
function feedMeText() {
    console.log("FEED ME");
    texts = textNodesUnder(document);
    texts.forEach(element => {
        element.textContent = "FEED ME";
    });
}

function eatTextInElement(ele) {


}

function eatEntirePage() {

}
