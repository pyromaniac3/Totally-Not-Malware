// Starter code provided by https://github.com/tanhauhau/browser-pet/tree/master
let hunger = 0
let attention = 0
let startTime;

const position = {
    x: 0,
    y: 0,
};

function updatePosition(pet, x, y) {
    pet.style.left = (position.x = x) + 'px';
    pet.style.top = (position.y = y) + 'px';
}

function onload() {
    const pet = document.createElement('div');
    updatePosition(pet, 150, 150);
    pet.classList.add('meowware-pet');
    document.body.appendChild(pet);
    console.log("Loaded tamagotchi.js");

    // track start time
    startTime = Date.getTime();

    // Creating a second div to be able to Ctrl+F in DOM.
    const identifier_div = document.createElement('div');
    identifier_div.classList.add('meowware-pet');
    pet.appendChild(identifier_div);
    console.log("Attached identifier to be able to more easily attach.")

    document.getElementById('feedMe').addEventListener('click', function() {
        if (hunger >= 10) {
          hunger -= 10;
        }
        console.log('Feed Button clicked!');
      });
    document.getElementById('playMe').addEventListener('click', function() {
        if (attention >= 10) {
          attention -= 10;
        }
        console.log('Play Button clicked!');
      });
    document.getElementById('fakeQuit').addEventListener('click', function() {
        console.log('Fake Quit Button clicked!');
      });
    
    const intervalID = setInterval(updateStats, 60000)
}

function updateStats() {
    if (hunger >= 10 || attention >= 10) {
      hunger += 10
      attention += 10
    } else {
      if (hunger < 10) {
        attention += 10
      }
      if (attention < 10) {
        hunger += 10
      }
    }
}
window.addEventListener('load', onload);
